/*
SQLyog Community v10.3 
MySQL - 5.5.31 
*********************************************************************
*/
/*!40101 SET NAMES utf8 */;

create table `dataviews` (
	`DataViewID` int (11),
	`Name` varchar (300),
	`FieldList` text ,
	`ColumnList` varchar (6144),
	`HiddenList` varchar (6144),
	`SQLBody` varchar (6144),
	`IDColumn` varchar (765),
	`SQLWhere` varchar (6144),
	`FolderID` int (11),
	`ClientLink` varchar (300),
	`ComputerLink` varchar (300),
	`SortField` varchar (300),
	`GroupField` varchar (300),
	`SortOrder` int (11),
	`FilterControl` text ,
	`FormatControl` text ,
	`LocationLink` varchar (300),
	`IconControl` text ,
	`SystemPermission` int (11),
	`UserClassName` varchar (765)
); 
insert into `dataviews` (`DataViewID`, `Name`, `FieldList`, `ColumnList`, `HiddenList`, `SQLBody`, `IDColumn`, `SQLWhere`, `FolderID`, `ClientLink`, `ComputerLink`, `SortField`, `GroupField`, `SortOrder`, `FilterControl`, `FormatControl`, `LocationLink`, `IconControl`, `SystemPermission`, `UserClassName`) values(NULL,'Veeam Backup','EventLogs.LogName as `Log Name`, ELT(EventLogs.EventType;;\'Error\';;\'Information\';;\'Warning\';;\'Security Denied\';;\'Security Granted\') as `Log Event Type`, EventLogs.Source as `Log Source`, EventLogs.TimeGen as `Log Time Generated`, EventLogs.Message as `Log Message`, EventLogs.EventID as `Log EventID`, CONCAT(Contacts.FirstName;;\' \';;Contacts.LastName) as `Contact`, Contacts.Cell as `Contact Cell`, Computers.Version as `Agent OS Version`, Computers.ServiceVersion as `Agent Version`, Computers.LastContact as `Agent Last Contact Date`, Computers.LastInventory as `Agent Last Inventory Date`, Computers.Name as `Agent Name`, Convert(IF(INSTR(Computers.Username;;\';;\')>0;;LEFT(Computers.Username;;Instr(Computers.UserName;;\';;\')-1);;Computers.Username) using utf8) as `Agent User`, Computers.OS as `Agent Operating System`, Computers.Domain as `Agent Windows Domain`, Locations.LocationID as `LocationID`, CONCAT(Clients.Name;;\'/\';;Locations.Name) as `Client Location`, Locations.Name as `Location Name`, Clients.ClientID as `ClientID`, Clients.Name as `Client Name`','Client Name,Agent Name,Log Name,Log EventID,Log Event Type,Log Source,Log Message,Log Time Generated','','FROM ((((eventlogs JOIN computers ON eventlogs.computerid=computers.computerid) JOIN locations ON computers.locationid=locations.locationid) JOIN clients ON computers.clientid=clients.clientid) LEFT JOIN contacts ON computers.contactid=contacts.contactid)','EventLogs.ComputerID','eventlogs.source LIKE \"%Veeam%\" AND eventlogs.EventType IN (1,3) AND eventlogs.timegen >  DATE_ADD(NOW(), INTERVAL -24 HOUR)','10','Computers.ClientID','EventLogs.ComputerID','Log Time Generated','','0','','Log Event Type,A,,,2,,0,,|','Computers.LocationID','56|EventType|1,1,128|1,4,128|1,2,129|','0','');
insert into `dataviews` (`DataViewID`, `Name`, `FieldList`, `ColumnList`, `HiddenList`, `SQLBody`, `IDColumn`, `SQLWhere`, `FolderID`, `ClientLink`, `ComputerLink`, `SortField`, `GroupField`, `SortOrder`, `FilterControl`, `FormatControl`, `LocationLink`, `IconControl`, `SystemPermission`, `UserClassName`) values('526','Veeam Backup Jobs','Contacts.ContactID as `ContactID`, CONCAT(Contacts.FirstName;;\' \';;Contacts.LastName) as `Contact`, Contacts.Email as `Contact Email`, Contacts.Phone as `Contact Phone`, Contacts.Cell as `Contact Cell`, Contacts.Address1 as `Contact Address1`, Contacts.Address2 as `Contact Address2`, Contacts.City as `Contact City`, Contacts.State as `Contact State`, Contacts.Zip as `Contact Zipcode`, Contacts.Fax as `Contact Fax`, Contacts.Pager as `Contact Pager`, Contacts.MSN as `Contact MSN`, Contacts.AIM as `Contact AIM`, Contacts.ICQ as `Contact ICQ`, Contacts.NetBiosName as `Contact Netbios`, Computers.Version as `Agent OS Version`, Computers.ServiceVersion as `Agent Version`, computers.Comment as `Agent Comment`, Computers.LastContact as `Agent Last Contact Date`, Computers.LastInventory as `Agent Last Inventory Date`, Computers.CPUUsage as `Agent CPU Usage`, Computers.TotalMemory as `Agent Memory Total`, Computers.MemoryAvail as `Agent Memory Avail`, Computers.RouterAddress as `Agent Router Address`, Computers.Uptime as `Agent Uptime`, Computers.DataIn as `Agent Bytes IN`, Computers.DataOut as `Agent Bytes Out`, Computers.MAC as `Agent MAC`, Computers.DateAdded as `Agent Install Date`, Computers.BiosName as `Agent Mainboard`, Computers.BiosVer as `Agent Serial Number`, Computers.BiosFlash as `Agent Bios`, Computers.Name as `Agent Name`, Convert(IF(INSTR(Computers.Username;;\';;\')>0;;LEFT(Computers.Username;;Instr(Computers.UserName;;\';;\')-1);;Computers.Username) using utf8) as `Agent User`, Computers.OS as `Agent Operating System`, Computers.Domain as `Agent Windows Domain`, Computers.BiosMFG as `Agent Manufacturer`, Computers.LocalAddress as `Agent IP Address`, Computers.AssetTag as `Agent Asset Tag`, Computers.AssetDate as `Agent Asset Date`, Locations.LocationID as `LocationID`, CONCAT(Clients.Name;;\'/\';;Locations.Name) as `Client Location`, Locations.Name as `Location Name`, Locations.Address as `Location Address`, Locations.City as `Location City`, Locations.State as `Location State`, Locations.Zip as `Location Zipcode`, Locations.Phone as `Location Phone`, Locations.Fax as `Location Fax`, Locations.Country as `Location Country`, Locations.Router as `Location Router`, Locations.RouterPort as `Location Router Port`, Clients.ClientID as `ClientID`, Clients.Name as `Client Name`, Clients.Address1 as `Client Address`, Clients.City as `Client City`, Clients.State as `Client State`, Clients.Zip as `Client Zipcode`, Clients.Address2 as `Client Address2`, CONVERT(IF(Clients.SupportMins>0;;Clients.SupportMins;;IF(Clients.SupportMins=0;;\'None\';;\'Unlimited\')) using UTF8) as `Client SupportMins`, Clients.Phone as `Clients Phone`, Clients.Fax as `Clients Fax`, Clients.Country as `Clients Country`, backupjobs.`pstarttime` as `backupjobs pstarttime`, backupjobs.`pendtime` as `backupjobs pendtime`, backuplogs.`status` as `backuplogs status`, backuplogs.`eventdate` as `backuplogs eventdate`, backuplogs.`details` as `backuplogs details`, backupstatus.`backuptime` as `backupstatus backuptime`','Client Name,Agent Name,backupjobs pstarttime,backupjobs pendtime,backuplogs status,backuplogs eventdate,backuplogs details,backupstatus backuptime','','FROM ((((spjobs JOIN computers ON spjobs.computerid=computers.computerid) JOIN locations ON computers.locationid=locations.locationid) JOIN clients ON computers.clientid=clients.clientid) LEFT JOIN contacts ON computers.contactid=contacts.contactid), backupjobs, backuplogs, backupstatus','','','6','Computers.ClientID','spjobs.computerid','','','0','','Agent CPU Usage,A,,,2,,0,,%,3,90,1,FF0000,,1|Agent Memory Total,A,,,1,,0,,mb|Agent Memory Avail,A,,,1,,0,,mb|Agent Uptime,A,,,1,,0,, mins|Agent MAC,A,,,2,,0,,|','Computers.LocationID','111|','0','');
